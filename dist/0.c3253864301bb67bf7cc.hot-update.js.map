{"version":3,"sources":["webpack:///./server/dmx_usb_pro.js?20e1","webpack:///./server/drivers/null.js?e777","webpack:///./server/drivers/dmx4all.js?413f","webpack:///./server/drivers/enttec-open-usb-dmx.js?f698","webpack:///./server/drivers/artnet.js?1881","webpack:///./server/drivers/bbdmx.js?9afc"],"names":["util","require","EventEmitter","console","log","DMX","universes","drivers","registerDriver","inherits","prototype","name","module","initializeDMXUSBPRO","device_id","update","universe","channels","emit","updateAll","value","universeToObject","u","i","length","get","exports","Null","options","self","Buffer","fill","start","timeout","setInterval","stop","clearInterval","close","cb","c","v","SerialPort","DMX4ALL","dev","err","send_universe","on","data","isOpen","msg","write","EnttecOpenUsbDMX","interval","set","brk","r","setTimeout","concat","intervalhandle","bind","dgram","EnttecODE","header","sequence","physical","universe_id","sleepTime","writeInt16BE","host","port","createSocket","pkg","send","BBDMX","channel","messageBuffer","toString"],"mappings":"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","file":"0.c3253864301bb67bf7cc.hot-update.js","sourcesContent":["\"use strict\"\r\n\r\nvar util = require('util')\r\nvar EventEmitter = require('events').EventEmitter\r\nconsole.log(\"dmx library loaded\");\r\n\r\nfunction DMX() {\r\n\r\n\tthis.universes = {}\r\n\tthis.drivers   = {}\r\n\r\n\tthis.registerDriver('null',                require('./drivers/null'))\r\n\tthis.registerDriver('dmx4all',             require('./drivers/dmx4all'))\r\n\tthis.registerDriver('enttec-usb-dmx-pro',  require('./drivers/enttec-usb-dmx-pro'))\r\n\tthis.registerDriver('enttec-open-usb-dmx', require('./drivers/enttec-open-usb-dmx'))\r\n\tthis.registerDriver('artnet',              require('./drivers/artnet'))\r\n\tthis.registerDriver('bbdmx',               require('./drivers/bbdmx'))\r\n}\r\n\r\nutil.inherits(DMX, EventEmitter)\r\n\r\nDMX.prototype.registerDriver = function(name, module) {\r\n\tthis.drivers[name] = module\r\n}\r\n\r\nDMX.prototype.initializeDMXUSBPRO = function(name, device_id) {\r\n\tconsole.log(\"add universe in dmx.js\");\r\n\treturn this.universes[name] = new this.drivers['enttec-usb-dmx-pro'](device_id)\r\n}\r\n\r\nDMX.prototype.update = function(universe, channels) {\r\n\tconsole.log(\"update universe to be \" + universe + \" and channels are \" + channels);\r\n\tthis.universes[universe].update(channels)\r\n\tthis.emit('update', universe, channels)\r\n}\r\n\r\nDMX.prototype.updateAll = function(universe, value) {\r\n\tthis.universes[universe].updateAll(value)\r\n\tthis.emit('updateAll', universe, value)\r\n}\r\n\r\nDMX.prototype.universeToObject = function(universe) {\r\n\tvar universe = this.universes[universe]\r\n\tvar u = {}\r\n\tfor(var i = 0; i < universe.length; i++) {\r\n\t\tu[i] = universe.get(i)\r\n\t}\r\n\treturn u\r\n}\r\n\r\nmodule.exports = DMX\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/dmx_usb_pro.js","\"use strict\"\r\n\r\nfunction Null(device_id, options) {\r\n\tvar self = this\r\n\toptions = options || {}\r\n\tthis.universe = new Buffer(512)\r\n\tthis.universe.fill(0)\r\n\tself.start()\r\n}\r\n\r\nNull.prototype.start = function() {\r\n\tvar self = this\r\n\tself.timeout = setInterval(function() {\r\n\t\tconsole.log(self.universe)\r\n\t}, 1000)\r\n}\r\n\r\nNull.prototype.stop = function() {\r\n\tclearInterval(this.timeout)\r\n}\r\n\r\nNull.prototype.close = function(cb) {\r\n\tcb(null)\r\n}\r\n\r\nNull.prototype.update = function(u) {\r\n\tfor(var c in u) {\r\n\t\tthis.universe[c] = u[c]\r\n\t}\r\n\tconsole.log(this.universe)\r\n}\r\n\r\nNull.prototype.updateAll = function(v){\r\n\tfor(var i = 0; i < 512; i++) {\r\n\t\tthis.universe[i] = v\r\n\t}\r\n}\r\n\r\nNull.prototype.get = function(c) {\r\n\treturn this.universe[c]\r\n}\r\n\r\nmodule.exports = Null\n\n\n// WEBPACK FOOTER //\n// ./server/drivers/null.js","\"use strict\"\r\n\r\nvar SerialPort = require(\"serialport\")\r\n\r\nfunction DMX4ALL(device_id, options) {\r\n\tvar self = this\r\n\toptions = options || {}\r\n\tthis.universe = new Buffer(512)\r\n\tthis.universe.fill(0)\r\n\r\n\tthis.dev = new SerialPort(device_id, {\r\n\t\t'baudrate': 38400,\r\n\t\t'databits': 8,\r\n\t\t'stopbits': 1,\r\n\t\t'parity': 'none'\r\n\t}, function(err) {\r\n\t\tif(!err) {\r\n\t\t\tself.send_universe()\r\n\t\t}\r\n\t})\r\n\tthis.dev.on('data', function(data) {\r\n\t\t//process.stdout.write(data.toString('ascii'))\r\n\t})\r\n}\r\n\r\nDMX4ALL.prototype.send_universe = function() {\r\n\tif(!this.dev.isOpen()) {\r\n\t\treturn\r\n\t}\r\n\r\n\tvar msg = Buffer(this.universe.length * 3)\r\n\tfor(var i = 0; i < this.universe.length; i++) {\r\n\t\tmsg[i * 3 + 0] = (i < 256) ? 0xE2 : 0xE3\r\n\t\tmsg[i * 3 + 1] = i\r\n\t\tmsg[i * 3 + 2] = this.universe[i]\r\n\t}\r\n\tthis.dev.write(msg)\r\n}\r\n\r\nDMX4ALL.prototype.start = function() {}\r\nDMX4ALL.prototype.stop = function() {}\r\n\r\nDMX4ALL.prototype.close = function(cb) {\r\n\tthis.dev.close(cb)\r\n}\r\n\r\nDMX4ALL.prototype.update = function(u) {\r\n\tfor(var c in u) {\r\n\t\tthis.universe[c] = u[c]\r\n\t}\r\n\tthis.send_universe()\r\n}\r\n\r\nDMX4ALL.prototype.updateAll = function(v){\r\n\tfor(var i = 0; i < 512; i++) {\r\n\t\tthis.universe[i] = v\r\n\t}\r\n\tthis.send_universe()\r\n}\r\n\r\nDMX4ALL.prototype.get = function(c) {\r\n\treturn this.universe[c]\r\n}\r\n\r\nmodule.exports = DMX4ALL\n\n\n// WEBPACK FOOTER //\n// ./server/drivers/dmx4all.js","\"use strict\"\r\n\r\nvar SerialPort = require(\"serialport\")\r\n\r\nfunction EnttecOpenUsbDMX(device_id, options) {\r\n\tvar self = this\r\n\toptions = options || {}\r\n\r\n\tthis.universe = new Buffer(512)\r\n\tthis.universe.fill(0)\r\n\r\n\tself.interval = 46\r\n\r\n\tthis.dev = new SerialPort(device_id, {\r\n\t\t'baudrate': 250000,\r\n\t\t'databits': 8,\r\n\t\t'stopbits': 2,\r\n\t\t'parity': 'none'\r\n\t}, function(err) {\r\n\t\tif(err) {\r\n\t\t\tconsole.log(err)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tself.start()\r\n\t})\r\n}\r\n\r\nEnttecOpenUsbDMX.prototype.send_universe = function() {\r\n\tvar self = this\r\n\tif(!this.dev.isOpen()) {\r\n\t\treturn\r\n\t}\r\n\r\n\t// toggle break\r\n\tself.dev.set({brk: true}, function(err, r) {\r\n\t\tsetTimeout(function() {\r\n\t\t\tself.dev.set({brk: false}, function(err, r) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tself.dev.write(Buffer.concat([Buffer([0]), self.universe]))\r\n\t\t\t\t}, 1)\r\n\t\t\t})\r\n\t\t}, 1)\r\n\t})\r\n}\r\n\r\nEnttecOpenUsbDMX.prototype.start = function() {\r\n\tthis.intervalhandle = setInterval(this.send_universe.bind(this), this.interval)\r\n}\r\n\r\nEnttecOpenUsbDMX.prototype.stop = function() {\r\n\tclearInterval(this.intervalhandle)\r\n}\r\n\r\nEnttecOpenUsbDMX.prototype.close = function(cb) {\r\n\tthis.stop()\r\n\tthis.dev.close(cb)\r\n}\r\n\r\nEnttecOpenUsbDMX.prototype.update = function(u) {\r\n\tfor(var c in u) {\r\n\t\tthis.universe[c] = u[c]\r\n\t}\r\n}\r\n\r\nEnttecOpenUsbDMX.prototype.updateAll = function(v) {\r\n\tfor(var i = 0; i < 512; i++) {\r\n\t\tthis.universe[i] = v\r\n\t}\r\n}\r\n\r\nEnttecOpenUsbDMX.prototype.get = function(c) {\r\n\treturn this.universe[c]\r\n}\r\n\r\nmodule.exports = EnttecOpenUsbDMX\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/drivers/enttec-open-usb-dmx.js","\"use strict\"\r\n\r\nvar dgram = require('dgram')\r\n\r\nfunction EnttecODE(device_id, options) {\r\n\tvar self = this\r\n\r\n\tself.header = new Buffer([65, 114, 116, 45, 78, 101, 116, 0, 0, 80, 0, 14])\r\n\tself.sequence    = new Buffer([0])\r\n\tself.physical    = new Buffer([0])\r\n\tself.universe_id = new Buffer([0x00, 0x00])\r\n\tself.length      = new Buffer([0x02, 0x00])\r\n\r\n\tself.universe = new Buffer(512)\r\n\tself.universe.fill(0)\r\n\r\n\tself.sleepTime = 24\r\n\r\n\toptions = options || {}\r\n\tself.universe_id.writeInt16BE(options.universe || 0, 0)\r\n\tself.host = device_id || '127.0.0.1'\r\n\tself.port = options.port || 6454\r\n\tself.dev = dgram.createSocket('udp4')\r\n\tself.start()\r\n}\r\n\r\nEnttecODE.prototype.send_universe = function() {\r\n\tvar pkg = Buffer.concat([\r\n\t\tthis.header,\r\n\t\tthis.sequence,\r\n\t\tthis.physical,\r\n\t\tthis.universe_id,\r\n\t\tthis.length,\r\n\t\tthis.universe\r\n\t])\r\n\r\n\tthis.dev.send(pkg, 0, pkg.length, this.port, this.host)\r\n}\r\n\r\nEnttecODE.prototype.start = function() {\r\n\tthis.timeout = setInterval(this.send_universe.bind(this), this.sleepTime)\r\n}\r\n\r\nEnttecODE.prototype.stop = function() {\r\n\tclearInterval(this.timeout)\r\n}\r\n\r\nEnttecODE.prototype.close = function(cb) {\r\n\tthis.stop()\r\n\tcb(null)\r\n}\r\n\r\nEnttecODE.prototype.update = function(u) {\r\n\tfor (var c in u) {\r\n\t\tthis.universe[c] = u[c]\r\n\t}\r\n}\r\n\r\nEnttecODE.prototype.updateAll = function(v) {\r\n\tfor (var i = 0; i < 512; i++) {\r\n\t\tthis.universe[i] = v\r\n\t}\r\n}\r\n\r\nEnttecODE.prototype.get = function(c) {\r\n\treturn this.universe[c]\r\n}\r\n\r\nmodule.exports = EnttecODE\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/drivers/artnet.js","'use strict'\r\n\r\nvar dgram = require('dgram')\r\n\r\nfunction BBDMX(device_id, options) {\r\n\tvar self = this\r\n\tself.options = options || {}\r\n\tself.universe = new Buffer(512)\r\n\tself.universe.fill(0)\r\n\tself.host = device_id || '127.0.0.1'\r\n\tself.port = self.options.port || 9930\r\n\tself.dev = dgram.createSocket('udp4')\r\n\tself.sleepTime = 24\r\n\tself.start()\r\n}\r\n\r\nBBDMX.prototype.send_universe = function() {\r\n\tvar channel\r\n\tvar messageBuffer = new Buffer(this.universe.length.toString())\r\n\r\n\tfor (var i = 0; i < this.universe.length; i++) {\r\n\t\tchannel = new Buffer(' ' + this.universe[i])\r\n\t\tmessageBuffer = Buffer.concat([messageBuffer, channel])\r\n\t}\r\n\tthis.dev.send(messageBuffer, 0, messageBuffer.length, this.port, this.host)\r\n}\r\n\r\nBBDMX.prototype.start = function() {\r\n\tthis.timeout = setInterval(this.send_universe.bind(this), this.sleepTime)\r\n}\r\n\r\nBBDMX.prototype.stop = function() {\r\n\tclearInterval(this.timeout)\r\n}\r\n\r\nBBDMX.prototype.close = function(cb) {\r\n\tthis.stop()\r\n\tcb(null)\r\n};\r\n\r\nBBDMX.prototype.update = function(u) {\r\n\tfor (var c in u) {\r\n\t\tthis.universe[c] = u[c]\r\n\t}\r\n}\r\n\r\nBBDMX.prototype.updateAll = function(v) {\r\n\tfor (var i = 0; i < 512; i++) {\r\n\t\tthis.universe[i] = v\r\n\t}\r\n}\r\n\r\nBBDMX.prototype.get = function(c) {\r\n\treturn this.universe[c]\r\n}\r\n\r\nmodule.exports = BBDMX\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/drivers/bbdmx.js"],"sourceRoot":""}